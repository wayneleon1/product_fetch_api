<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Product API</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div class="main">
      <h5>Product API Fetch App</h5>
      <input
        type="text"
        id="input"
        placeholder="Enter a product Id"
        onkeydown="pressEnterKey(event)"
      />
      <button
        onclick="
    getApi();
    "
        class="submit-btn btn"
      >
        Submit
      </button>
      <p class="message"></p>
      <div class="card">
        <div class="card-img">
          <img src="" alt="" id="p_image" />
        </div>
        <div class="card-body">
          <div class="card-category">
            <p id="category"></p>
          </div>
          <div class="card-name">
            <p id="name"></p>
          </div>
          <div class="card-price">
            <p id="price"></p>
          </div>
          <div class="card-description">
            <p id="description"></p>
          </div>
          <div class="card-footer">
            <button class="add-btn btn">Add to cart</button>
          </div>
        </div>
      </div>
    </div>
  </body>
  <script>
    function getApi() {
      const idELement = document.getElementById("id");
      const inputElement = document.getElementById("input");
      const pid = inputElement.value;
      const nameElement = document.getElementById("name");
      const priceElement = document.getElementById("price");
      const categoryElement = document.getElementById("category");
      const imgElement = document.getElementById("p_image");
      const Desc = document.getElementById("description");
      const msgElement = document.querySelector(".message");

      fetch(`https://fakestoreapi.com/products/${pid}`)
        .then((response) => response.json())
        .then((res) => {
          // console.log(res);
          //   idELement.innerHTML = "Product ID: " + res.id;
          nameElement.innerHTML = res.title;
          priceElement.innerHTML = "$" + res.price;
          categoryElement.innerHTML = res.category;
          imgElement.setAttribute("src", res.image);
          Desc.innerHTML = res.description;
        });
    }
    const pressEnterKey = (event) => {
      if (event.key === "Enter") {
        getApi(event);
      }
    };
  </script>
</html>
